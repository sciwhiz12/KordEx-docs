<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="en-US" data-preset="contrast" data-primary-color="#5865F2" data-link-color="#5865F2"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="built-on" content="2024-11-13T20:57:34.69179248"><title>Extensions | Kord Extensions</title><script type="application/json" id="virtual-toc-data">[{"id":"conventions","level":0,"title":"Conventions","anchor":"#conventions"},{"id":"structure","level":0,"title":"Structure","anchor":"#structure"},{"id":"api","level":0,"title":"Extension API","anchor":"#api"},{"id":"functions","level":1,"title":"Functions","anchor":"#functions"},{"id":"properties","level":1,"title":"Properties","anchor":"#properties"}]</script><script type="application/json" id="topic-shortcuts"></script><link href="frontend/app.css" rel="stylesheet"><link href="static/custom.css" rel="stylesheet"><link rel="icon" type="image/png" sizes="16x16" href="images/logo.png"><meta name="image" content=""><!-- Open Graph --><meta property="og:title" content="Extensions | Kord Extensions"><meta property="og:description" content=""><meta property="og:image" content=""><meta property="og:site_name" content="Kord Extensions Help"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:url" content="writerside-documentation/extensions.html"><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="Extensions | Kord Extensions"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content=""><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "WebPage",
    "@id": "writerside-documentation/extensions.html#webpage",
    "url": "writerside-documentation/extensions.html",
    "name": "Extensions | Kord Extensions",
    "description": "",
    "image": "",
    "inLanguage":"en-US"
}</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json">{
    "@type": "WebSite",
    "@id": "writerside-documentation/#website",
    "url": "writerside-documentation/",
    "name": "Kord Extensions Help"
}</script><!-- End Schema.org --></head><body data-id="Extensions" data-main-title="Extensions" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}" data-template="article" data-breadcrumbs="Core-Documentation.topic|Core Documentation ✏️"><div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>Kord Extensions  Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="Extensions" id="Extensions.topic">Extensions</h1><p id="v3f8my_3">Once you've <a href="the-bot.html" id="v3f8my_9" data-tooltip="At the core of your bot is the ExtensibleBot class. This class is the most important part of Kord Extensions, as the jumping-off point for your bot. Among other things, it dispatches commands and event handlers, and keeps track of extensions. It also contains several useful APIs.">created your bot</a> and <a href="configuration.html" id="v3f8my_10" data-tooltip="Configuration Learn how to configure your bot. Standard Options Advanced Options">configured it to your needs</a>, you can start adding functionality. Kord Extensions requires functionality to be separated out into <span id="v3f8my_11"><b>Extensions</b></span>, allowing commands and event handlers to be grouped by function and easily loaded and unloaded.</p><p id="v3f8my_4">Extensions are the building blocks that make up your bot's features, and represent single units of functionality. For example:</p><ul class="list _bullet" id="v3f8my_5"><li class="list__item" id="v3f8my_12"><p>A <a href="config-extensions.html#help" id="v3f8my_15" data-tooltip="The help builder allows you to configure the currently loaded chat command help extension, and enable or disable the bundled one.">help extension</a> that implements <code class="code" id="v3f8my_16">HelpProvider</code> and contains all help-related commands and event handlers.</p></li><li class="list__item" id="v3f8my_13"><p>A <a href="pluralkit.html" id="v3f8my_17" data-tooltip="Start typing here...">PluralKit extension</a> that provides an API for working with PluralKit, including code that fires custom events, and any relevant commands and event handlers.</p></li><li class="list__item" id="v3f8my_14"><p>An <a href="phishing.html" id="v3f8my_18" data-tooltip="Start typing here...">anti-phishing extension</a> that downloads and maintains a database of known phishing domains, and contains the relevant commands and event handlers needed to automatically moderate messages containing them.</p></li></ul><section class="chapter"><div class="collapse"><div class="collapse__title"><h2 id="conventions" data-toc="conventions">Conventions</h2></div><div class="collapse__content"><p id="v3f8my_19">While you can organize your extensions in any way you wish, the following is worth keeping in mind:</p><ul class="list _bullet" id="v3f8my_20"><li class="list__item" id="v3f8my_21"><p id="v3f8my_26">Consider placing your extensions within a package named <span class="filepath" id="v3f8my_28">extensions</span>.</p><ul class="list _bullet" id="v3f8my_27"><li class="list__item" id="v3f8my_29"><p>If the extension only requires one file or class, name it <code class="code" id="v3f8my_31">$lt;Name$gt;Extension</code> and place it directly within the <span class="filepath" id="v3f8my_32">extensions</span> package.</p></li><li class="list__item" id="v3f8my_30"><p>If the extension requires multiple files or classes, create a subpackage for it within the <span class="filepath" id="v3f8my_33">extensions</span> package, named after the extension and containing it and everything it needs.</p></li></ul></li><li class="list__item" id="v3f8my_22"><p>Extension classes should have descriptive names and end with the word &quot;Extension.&quot; For example, use <code class="code" id="v3f8my_34">MinecraftExtension</code> instead of <code class="code" id="v3f8my_35">MEx</code> or <code class="code" id="v3f8my_36">Minecraft</code>.</p></li><li class="list__item" id="v3f8my_23"><p id="v3f8my_37">Extension names should be easy to guess, and written in <code class="code" id="v3f8my_39">lowered-kebab-case</code>. For example, use <code class="code" id="v3f8my_40">minecraft</code> or <code class="code" id="v3f8my_41">log-rotation</code> instead of <code class="code" id="v3f8my_42">Mine_craft</code> or <code class="code" id="v3f8my_43">LogRotation</code>.</p><p id="v3f8my_38">If your extension is intended to be used by others, consider prefixing the name to distinguish it from extensions written by other people. For example, if your org is named Acme Corp., consider using <code class="code" id="v3f8my_44">acme-minecraft</code> or <code class="code" id="v3f8my_45">acme-log-rotation</code>.</p></li><li class="list__item" id="v3f8my_24"><p id="v3f8my_46">Extensions should be designed with a single purpose in mind, and shared functionality (for example, APIs) should be extracted into an interface or abstract class.</p><p id="v3f8my_47">Don't put all of your bot's functionality into a single extension, especially if it has a lot of features. For example, use <code class="code" id="v3f8my_48">ModerationExtension</code>, <code class="code" id="v3f8my_49">MinecraftExtension</code> and <code class="code" id="v3f8my_50">LogRotationExtension</code> instead of just <code class="code" id="v3f8my_51">MyBotExtension</code>.</p></li><li class="list__item" id="v3f8my_25"><p id="v3f8my_52">While your extension class can be laid out however you prefer, we suggest the following order:</p><ul class="list _bullet" id="v3f8my_53"><li class="list__item" id="v3f8my_55"><p>At the top, simple variables and constants, followed by variables and constants with custom getters and setters.</p></li><li class="list__item" id="v3f8my_56"><p>Your <code class="code" id="v3f8my_59">setup</code> function, followed by any other functions your extension needs. It's also generally a good idea to split up public API and private functions.</p></li><li class="list__item" id="v3f8my_57"><p>Any command argument classes used by your extension, marked as <code class="code" id="v3f8my_60">inner</code> classes. Alternatively, it may be useful to factor these out into separate classes in their own files.</p></li><li class="list__item" id="v3f8my_58"><p>Any modal form classes used by your extension, marked as <code class="code" id="v3f8my_61">inner</code> classes. Alternatively, it may be useful to factor these out into separate classes in their own files.</p></li></ul><div class="code-collapse" data-lang="kotlin" data-is-expanded="false" data-synopsis="Example Layout">
                    class MyExtension : Extension() {
                        // Simple variables and constants
                        override val name: String = &quot;my&quot;

                        val chatCommands: ChatCommandRegistry by inject()

                        // Setup function
                        override suspend fun setup() { }

                        // Public API
                        suspend fun myAction() { }

                        // Private functions
                        private suspend fun doAction() { }

                        // Command argument classes
                        inner class CommandArgs : Arguments() {

                        }

                        // Modal form classes
                        inner class MyForm : ModalForm() {

                        }
                    }
                </div></li></ul></div></div></section><section class="chapter"><h2 id="structure" data-toc="structure">Structure</h2><p id="v3f8my_62">All extensions must extend the <code class="code" id="v3f8my_69">Extension</code> type. This type provides most of the logic behind your extensions, and it implements Kord Extensions' <a href="koin.html" id="v3f8my_70" data-tooltip="Start typing here..."><code class="code" id="v3f8my_71">KoinComponent</code></a> types, giving you direct access to Koin's API.</p><p id="v3f8my_63">All extensions must implement the following:</p><div class="table-wrapper"><table class="wide" id="v3f8my_64"><thead><tr class="ijRowHead" id="v3f8my_72"><th id="v3f8my_75"><p>Name</p></th><th id="v3f8my_76"><p>Type</p></th><th id="v3f8my_77"><p>Description</p></th></tr></thead><tbody><tr id="v3f8my_73"><td id="v3f8my_78"><p><code class="code" id="v3f8my_81">name</code></p></td><td id="v3f8my_79"><p><code class="code" id="v3f8my_82">String</code></p></td><td id="v3f8my_80"><p>Human-readable short extension name. This should be <code class="code" id="v3f8my_83">lowered-kebab-case</code> and must be unique, as it's used for logging and by parts of the <code class="code" id="v3f8my_84">ExtensibleBot</code> API to index and retrieve loaded extensions.</p></td></tr><tr id="setup-function"><td id="v3f8my_85"><p><code class="code" id="v3f8my_88">setup</code></p></td><td id="v3f8my_86"><p><code class="code" id="v3f8my_89">suspend () -&gt; Unit</code></p></td><td id="v3f8my_87"><p>This function is called when your extension is set up, and it should be used to register all of its commands, event handlers, and other functionality.</p></td></tr></tbody></table></div><aside class="prompt" data-type="warning" data-title="" id="v3f8my_65"><p id="v3f8my_90">While you may be able to access the bot's <a href="https://dokka.kord.dev/core/dev.kord.core/-kord/index.html" id="v3f8my_93" data-external="true" rel="noopener noreferrer"><code class="code" id="v3f8my_96">Kord</code></a> instance in your <code class="code" id="v3f8my_94">setup</code> function, <span id="v3f8my_95"><b>it is not safe to use during extension setup</b></span>. This is because extensions are set up before the bot attempts to connect to Discord, meaning you will no data will be available from Discord until later.</p><p id="v3f8my_91">Instead, consider creating an event handler for Kord's <a href="https://dokka.kord.dev/core/dev.kord.core.event.gateway/-ready-event/index.html" id="v3f8my_97" data-external="true" rel="noopener noreferrer"><code class="code" id="v3f8my_98">ReadyEvent</code></a>, which will be fired when the bot has connected to Discord.</p><p id="v3f8my_92"><span id="v3f8my_99"><b>Note:</b></span> Once the bot has connected, feel free to use the bot's <a href="https://dokka.kord.dev/core/dev.kord.core/-kord/index.html" id="v3f8my_100" data-external="true" rel="noopener noreferrer"><code class="code" id="v3f8my_102">Kord</code></a> instance as you please. This includes within event handler and command <code class="code" id="v3f8my_101">action</code> blocks, as these will not be called unless the bot is connected to Discord.</p></aside><p id="v3f8my_66">To react and respond to actions taken on Discord, you'll need to register the relevant abstractions in your <code class="code" id="v3f8my_103">setup</code> function:</p><ul class="list _bullet" id="v3f8my_67"><li class="list__item" id="v3f8my_104"><p><a href="events.html" id="v3f8my_106" data-tooltip="To react to things happening on Discord (and within your bot), you can register event handlers in your extensions. This is done simply:">Event handlers</a>, which allow your bot to react to all kinds of things as they happen.</p></li><li class="list__item" id="v3f8my_105"><p><a href="commands.html" id="v3f8my_107" data-tooltip="Kord Extensions provides a rich, type-safe commands framework which is only as complex as you need it to be. At the moment, these basic types of commands are supported:">Commands</a>, which may be executed by users that share servers with your bot.</p></li></ul><p id="v3f8my_68">For more information, please see the relevant links above.</p></section><section class="chapter"><h2 id="api" data-toc="api">Extension API</h2><p id="v3f8my_108">The <code class="code" id="v3f8my_112">Extension</code> type provides a fairly comprehensive API, which you can use to build out your bot's functionality. It also extends <a href="koin.html" id="v3f8my_113" data-tooltip="Start typing here...">KoinComponent</a>, providing easy access to other parts of Kord Extensions as necessary.</p><aside class="prompt" data-type="note" data-title="" id="v3f8my_109"><p id="v3f8my_114">For the sake of brevity, the below tables do not provide an exhaustive list of APIs. You can find more information on the APIs that have been omitted throughout this documentation, including:</p><ul class="list _bullet" id="v3f8my_115"><li class="list__item" id="v3f8my_116"><p><a href="checks.html" id="v3f8my_121" data-tooltip="Checks provide a way to define a reusable, generic set of predicates that may be applied to event handlers, commands, components, and other APIs.">Checks</a></p></li><li class="list__item" id="v3f8my_117"><p><a href="commands.html" id="v3f8my_122" data-tooltip="Kord Extensions provides a rich, type-safe commands framework which is only as complex as you need it to be. At the moment, these basic types of commands are supported:">Commands</a></p></li><li class="list__item" id="v3f8my_118"><p><a href="events.html" id="v3f8my_123" data-tooltip="To react to things happening on Discord (and within your bot), you can register event handlers in your extensions. This is done simply:">Events</a></p></li><li class="list__item" id="v3f8my_119"><p><a href="internationalization.html" id="v3f8my_124" data-tooltip="While some smaller bots are only designed with one language in mind, many larger bots will need to support guilds and users using a variety of languages and locales.">Internationalization (i18n)</a></p></li><li class="list__item" id="v3f8my_120"><p><a href="utilities.html" id="v3f8my_125" data-tooltip="Start typing here...">Utilities ⏳</a></p></li></ul></aside><section class="chapter"><h3 id="functions" data-toc="functions">Functions</h3><div class="table-wrapper"><table class="wide" id="v3f8my_126"><thead><tr class="ijRowHead" id="v3f8my_127"><th id="v3f8my_130"><p>Function</p></th><th id="v3f8my_131"><p>Description</p></th></tr></thead><tbody><tr id="v3f8my_128"><td id="v3f8my_132"><p><code class="code" id="v3f8my_134">setup</code></p></td><td id="v3f8my_133"><p>Extension setup function, as explained above.</p></td></tr><tr id="v3f8my_129"><td id="v3f8my_135"><p><code class="code" id="v3f8my_137">unload</code></p></td><td id="v3f8my_136"><p>If your extension requires tear-down or cleanup steps to be run when it's unloaded, override this function. Called whenever the extension is disabled.</p></td></tr></tbody></table></div></section><section class="chapter"><h3 id="properties" data-toc="properties">Properties</h3><p id="v3f8my_138">The following properties are marked <code class="code" id="v3f8my_144">open</code> and are intended to be overridden by extensions.</p><div class="table-wrapper"><table class="wide" id="v3f8my_139"><thead><tr class="ijRowHead" id="v3f8my_145"><th id="v3f8my_149"><p>Name</p></th><th id="v3f8my_150"><p>Type</p></th><th id="v3f8my_151"><p>Default</p></th><th id="v3f8my_152"><p>Description</p></th></tr></thead><tbody><tr id="v3f8my_146"><td id="v3f8my_153"><p><code class="code" id="v3f8my_157">allowApplicationCommandsInDMs</code></p></td><td id="v3f8my_154"><p><code class="code" id="v3f8my_158">Boolean</code></p></td><td id="v3f8my_155"><p><code class="code" id="v3f8my_159">true</code></p></td><td id="v3f8my_156"><p>Whether <a href="commands.html" id="v3f8my_160" data-tooltip="Kord Extensions provides a rich, type-safe commands framework which is only as complex as you need it to be. At the moment, these basic types of commands are supported:">application commands</a> registered by this extension should be allowed in DMs by default. May be overridden or set by your <code class="code" id="v3f8my_161">setup</code> function.</p></td></tr><tr id="v3f8my_147"><td id="v3f8my_162"><p><code class="code" id="v3f8my_166">intents</code></p></td><td id="v3f8my_163"><p><code class="code" id="v3f8my_167">MutableSet &lt;Intent&gt;</code></p></td><td id="v3f8my_164"><p><code class="code" id="v3f8my_168">{ }</code></p></td><td id="v3f8my_165"><p>Intents required by this extension, which will be automatically requested at bot startup. This is populated automatically by event handlers and chat commands, but you can always add other required intents if needed.</p></td></tr><tr id="v3f8my_148"><td id="v3f8my_169"><p><code class="code" id="v3f8my_173">name</code></p></td><td id="v3f8my_170"><p><code class="code" id="v3f8my_174">String</code></p></td><td id="v3f8my_171"></td><td id="v3f8my_172"><p>Human-readable short extension name, as explained above.</p></td></tr></tbody></table></div><p id="v3f8my_140">The following properties are set automatically, and you shouldn't need to modify them.</p><div class="table-wrapper"><table class="wide" id="v3f8my_141"><thead><tr class="ijRowHead" id="v3f8my_175"><th id="v3f8my_178"><p>Name</p></th><th id="v3f8my_179"><p>Type</p></th><th id="v3f8my_180"><p>Description</p></th></tr></thead><tbody><tr id="v3f8my_176"><td id="v3f8my_181"><p><code class="code" id="v3f8my_184">loaded</code></p></td><td id="v3f8my_182"><p><code class="code" id="v3f8my_185">Boolean</code></p></td><td id="v3f8my_183"><p>Whether the extension is currently loaded. This is a short-hand reference to <code class="code" id="v3f8my_186">state</code>.</p></td></tr><tr id="v3f8my_177"><td id="v3f8my_187"><p><code class="code" id="v3f8my_190">state</code></p></td><td id="v3f8my_188"><p><code class="code" id="v3f8my_191">ExtensionState</code></p></td><td id="v3f8my_189"><p>The extension's loading state, which describes which state of its lifecycle it's currently in.</p></td></tr></tbody></table></div><p id="v3f8my_142">The following properties provide quick access to various parts of Kord Extensions, via <a href="koin.html" id="v3f8my_192" data-tooltip="Start typing here...">Koin</a>.</p><div class="table-wrapper"><table class="wide" id="v3f8my_143"><thead><tr class="ijRowHead" id="v3f8my_193"><th id="v3f8my_198"><p>Name</p></th><th id="v3f8my_199"><p>Type</p></th></tr></thead><tbody><tr id="v3f8my_194"><td id="v3f8my_200"><p><code class="code" id="v3f8my_202">applicationCommandRegistry</code></p></td><td id="v3f8my_201"><p><code class="code" id="v3f8my_203">ApplicationCommandRegistry</code></p></td></tr><tr id="v3f8my_195"><td id="v3f8my_204"><p><code class="code" id="v3f8my_206">bot</code></p></td><td id="v3f8my_205"><p><code class="code" id="v3f8my_207">ExtensibleBot</code></p></td></tr><tr id="v3f8my_196"><td id="v3f8my_208"><p><code class="code" id="v3f8my_210">chatCommandRegistry</code></p></td><td id="v3f8my_209"><p><code class="code" id="v3f8my_211">ChatCommandRegistry</code></p></td></tr><tr id="v3f8my_197"><td id="v3f8my_212"><p><code class="code" id="v3f8my_214">kord</code></p></td><td id="v3f8my_213"><p><code class="code" id="v3f8my_215">Kord</code></p></td></tr></tbody></table></div></section></section><div class="last-modified">Last modified: 13 November 2024</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom"><a href="config-sharding.html" class="navigation-links__prev">Sharding</a><a href="interactions.html" class="navigation-links__next">Interactions</a></div></article><div id="disqus_thread"></div></div></section></main></div><script src="frontend/app.js"></script></body></html>